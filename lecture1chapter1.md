# Теория формальных грамматик и языков
## Грамматика

Грамматика языка является формальным описанием его синтаксиса или формы, в которой записаны отдельные предложения программы или вся программа. Грамматика не описывает семантику или значения различных предложений.

   В качестве иллюстрации разницы между синтаксисом и семантикой рассмотрим два предложения:  
i := j + k и i := x + y ,  
где (x), (y) являются действительными переменными, а (i), (j), (k) целыми.

Эти два предложения имеют одинаковый синтаксис. Оба являются операторами присваивания. Но с точки зрения семантики, эти предложения разные, так как компилируются в совершенно различные последовательности машинных команд.

   В первом случае складываются целые переменные (j) и (k) и результат присваивается переменной (i).

   Во втором случае необходимо сложить вещественные переменные (x) и (y), а результат преобразовать к целому виду и полученное значение присвоить переменной (i).   
   
   В качестве примера мы будем использовать программу на языке ПАСКАЛЬ, изображённую на ниже, однако обсуждаемые концепции и подходы приложимы и к другим языкам. Существует несколько различных форм записи грамматик, среди которых мы рассмотрим форму Бекуса-Наура (БНФ). БНФ не самое мощное из известных средств описания синтаксиса. Однако эта форма достаточно проста, широко используется и предоставляет достаточные для большинства приложений средства.
   
```delphi
program primer;
var sum, a, rez, i: integer;
begin
sum:=0;
for i:=1 to 100 do begin
read(a);
sum:=sum+a
end;
rez:=sum div100–a*a;
write(rez,sum)
end.
```


Далее будет изображена одна из возможных грамматик БНФ для очень узкого подмножества языка ПАСКАЛЬ. Полное описание грамматики БНФ для ПАСКАЛЯ содержится в [].

		1. <программа> —> <имя программы> var <раздел переменных> begin <раздел операторов> end.
		2. <имя программы> —> ид
		3. <раздел переменных> —> <список переменных>:<тип>
		4. <список переменных> —> ид /<список переменных>, ид
		5. <тип> —> integer
		6. <раздел операторов> —> <оператор>/<раздел операторов>;<оператор>
		7. <оператор> —> <присваивание>/<ввод>/<вывод>/<цикл>
		8. <присваивание> —> ид := <арифметическое выражение>
		9. <арифметическое выражение> —> <слагаемое>/<арифметическое выражение> +/-  <слагаемое>
		10. <слагаемое> —> <значение> / <слагаемое> */div <значение>
		11. <значение> —> ид/ конст/(<арифметическое выражение>)
		12. <ввод> —> read (<список переменных>)
		13. <вывод> —> write (<список переменных>) 
		14.<цикл> —> for <выражение цикла> to <тело цикла> 
		15. <выражение цикла> —> ид :=<арифметическое выражение> do <арифметическое выражение>
		16. <тело цикла> —> <оператор>/ begin <раздел операторов> end


Грамматика БНФ состоит из множества правил вывода, каждое из которых определяет синтаксис некоторой конструкции языка. Рассмотрим, например, правило 8:  
<присваивание> —> ид := <арифметическое выражение>

Это определение оператора присваивание языка ПАСКАЛЬ, обозначенное как <присваивание>. Символ «—>» можно читать как «является по определению». С левой стороны от этого символа находится определяемая конструкция языка (в нашем случае <присваивание>), а с правой – описание синтаксиса этой конструкции. Строки символов, заключенные в угловые скобки, называются нетерминальными символами. Они составляют синтаксические классы языка. Символы, не заключенные в угловые скобки, называются терминальными символами. Они составляют лексические классы или алфавит языка.

В рассматриваемом примере нетерминальными символами являются <присваивание> и <арифметическое выражение>, а терминальными - ид  и :=. Таким образом, это правило определяет, что конструкция <присваивание> состоит из идентификатора (терминал ид), символа алфавита :=, за которым следует конструкция <арифметическое выражение>. Пробелы для написания грамматики не существенны и вставляются только для наглядности.

Для распознавания нетерминального символа <присваивание> необходимо, чтобы существовало определение для нетерминального символа <арифметическое выражение>. Это определение дается правилом 9 из таблицы выше:  
<арифметическое выражение> —> <слагаемое>/<арифметическое выражение> +/-  <слагаемое>  

Это правило предполагает две возможности, разделенные символом /. Первая состоит в том, что <арифметическое выражение> состоит из одной конструкции <слагаемое>. Другой вариант состоит в том, что <арифметическое выражение> состоит из конструкции <арифметическое выражение>, за которым следует знак + или -, за которым следует конструкция <слагаемое>. Это правило является рекурсивным, т.е. конструкция <арифметическое выражение> определяется рекурсивно в терминах себя самой. В соответствии с этим правилом, нетерминальным символом <арифметическое выражение> является любая последовательность из одного или более слагаемых, разделенных знаками + или -.

