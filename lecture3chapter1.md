≡ Краткое руководство Markdown

# Организация таблиц символов
## Способы организации таблиц символов

Проверка правильности семантики и генерация кода требуют знания характеристик идентификаторов, используемых в программе на исходном языке. Эти характеристики выясняются из описаний и из того, как идентификаторы используются в программе. Вся информация накапливается в таблицах символов.

Таблицы всех типов имеют общий вид:

|  №  | Аргумент | Значение|
|:---:|:---:|:----:|
|  1  |     |     |
|  2  |     |     |
| ... | ... | ... |
| ... | ... | ... |
| ... | ... | ... |
|  N  |     |     |

В нашем случае аргументами таблицы аргумент значение являются символы или идентификаторы, а значениями - их характеристики. Когда компилятор начинает трансляцию исходной программы, таблица символов пуста или содержит только несколько элементов для служебных слов и стандартных функций. В процессе компиляции для каждого нового идентификатора элемент добавляется только один раз, но поиск ведётся всякий раз, когда встречается этот идентификатор. Так как на этот процесс уходит много времени, важно выбрать такую организацию таблиц, которая допускала бы эффективный поиск.

Простейший способ организации таблицы состоит в том, чтобы добавлять элементы в порядке их поступления без каких-либо попыток упорядочения. Поиск в этом случае требует сравнения с каждым элементом таблицы, пока не будет найден подходящий. Для таблицы, содержащей N элементов, в среднем будет выполнено N/2 сравнений. Если N велико, такой способ неэффективен. Поиск может быть выполнен более эффективно, если элементы таблицы упорядочены согласно некоторому естественному порядку аргументов. В нашем случае, когда аргументами являются строки символов, наиболее естественным является упорядочение по алфавиту. Эффективным методом поиска в упорядоченном списке является так называемый бинарный поиск. Сортировка таблицы производится методом упорядоченных вставок.

Наиболее эффективный и широко применяемый в компиляторах метод при работе с таблицами символов - хеш-адресация. Механизм расстановки состоит из таблицы и хеш-функции:

|  №  | Аргумент | Значение|
|:---:|:---:|:----:|
|  1  |     |     |
|  2  |     |     |
| ... | ... | ... |
| h(a)|     |     |
| ... | ... | ... |
|  N  |     |     |

Таблица состоит из N элементов, где N заранее фиксировано. Метод хеш-адресации заключается в преобразовании символа в индекс элемента в таблице. Индекс получается хешированием символа - т. е. выполнением над ним некоторых операций. Если в процессе компиляции встретился объект а, то для поиска его в таблице можно воспользоваться следующим алгоритмом: если объект уже встречался ранее, то h(а) - ячейка в таблице, в которой хранится а. Если объект а ранее не встречался, то h(а) - пустая ячейка, в которую заносится информация для а.

Возникает, однако, затруднение, если результаты хеширования двух разных символов совпадают. Это называется коллизией. Очевидно, в данной позиции таблицы может быть помещён только один из этих символов, так что мы должны найти свободное место для второго. Же¬лательно иметь такую хеш-функцию, которая распределяла бы объекты равномерно по всей таблице, так чтобы коллизии не возникали слиш¬ком часто. Но избежать их совсем, практически не удаётся, поэтому разработчику компилятора следует предусмотреть способы решения задачи коллизии. Существует два таких способа - рехеширование и ме¬тод цепочек. Подробнее в лабораторной работе рассматривается  последний способ.